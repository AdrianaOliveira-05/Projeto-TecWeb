<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tâb - Jogo</title>

    <!-- Fontes -->
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- JS -->
    <script defer src="script.js"></script>
</head>

<body>
    <!-- LOGOTIPO -->
    <header id="logo">
        <h1>Tâb</h1>
        <p class="slogan">Estratégia, Tradição e Desafio em cada jogada</p>
    </header>

    <main>
        <!-- LOGAN -->
        <section id="identificacao">
            <h2>Identificação</h2>
            <div class="auth-area">
                <input type="text" id="user" placeholder="Utilizador">
                <input type="password" id="pass" placeholder="Senha">
                <button id="btnLogin">Entrar</button>
            </div>
        </section>

        <!-- CONFIGURAÇÃO -->
        <section id="configuracao" class="oculto">
            <h2>Configuração</h2>
            <form>
                <label>Tamanho do tabuleiro:</label>
                <select>
                    <option>4x9 (padrão)</option>
                    <option>4x7</option>
                    <option>4x11</option>
                    <option>4x13</option>
                    <option>4x15</option>
                </select>

                <label>Modo de jogo:</label>
                <select>
                    <option>Contra o Computador</option>
                    <option disabled>Contra outro Jogador (indisponível)</option>
                </select>

                <label>Primeiro a jogar:</label>
                <select>
                    <option>Jogador</option>
                    <option>Computador</option>
                </select>

                <label>Nível da IA:</label>
                <select>
                    <option>Fácil</option>
                    <option>Médio</option>
                    <option>Difícil</option>
                </select>
            </form>
        </section>

        <!-- COMANDOS -->
        <section id="comandos" class="oculto">
            <h2>Comandos</h2>

            <!-- ANTES DO JOGO -->
            <div class="botoes" id="comandosAntes">
                <button id="btnIniciarJogo">Iniciar Jogo</button>
                <button id="btnVerInstrucoes">Ver Instruções</button>
                <button id="btnVerClassificacoes">Classificações</button>
            </div>

            <!-- DURANTE O JOGO -->
            <div class="botoes oculto" id="comandosDurante">
                <button id="btnDesistir">Desistir</button>
                <button id="btnVerInstrucoes2">Ver Instruções</button>
                <button id="btnVerClassificacoes2">Classificações</button>
            </div>
        </section>

        <!-- ÁREA PRINCIPAL DO JOGO -->
        <section id="jogo" class="oculto">
            <h2 class="sr-only">Jogo</h2>
            
            <!-- Dado de Paus-->
            <section id="dado">
                <h2>Dado de Paus</h2>
                <div class="dado-area" id='dadoArea'>
                    <div id="pausContainer">
                        <!-- Cada div representa os paus e o seu valor -->
                        <div class="pau"></div>
                        <div class="pau"></div>
                        <div class="pau"></div>
                        <div class="pau"></div>
                    </div>
                    <p id="resultadoDado">Clique para lançar</p>
                </div>

            </section>

            <!-- TABULEIRO -->
            <section id="tabuleiro">
                <h2>Tabuleiro</h2>
                <div class="grid" id="gameGrid"></div>
            </section>

            <!-- MENSAGENS -->
            <section id="mensagens">
                <h2>Mensagens</h2>
                <p id="mensagemTexto">Aguarda o início do jogo...</p>
                <div id="botaoPassarVezContainer"></div>
            </section>

        </section>

        <!-- INSTRUÇÕES -->
        <section id="instrucoes" class="painel oculto">
            <h2>Regras do Jogo Tâb</h2>
            <br>
            <h3>Tabuleiro</h3>
            <p>O <strong>Tâb</strong> é um jogo de tabuleiro para dois jogadores. O tabuleiro tem <strong>4
                    linhas</strong> e um número <strong>ímpar de colunas</strong>, que pode variar entre <strong>7 e
                    15</strong>, sendo o tamanho mais comum <strong>4x9</strong>.</p>
            <br>
            <h3>Peças</h3>
            <p>Cada jogador possui peças de cor diferente do adversário. Num tabuleiro com <em>n</em> colunas, cada
                jogador tem <strong>n peças</strong>.</p>

            <ul>
                <li>As peças de cada jogador são apresentadas do seu lado.</li>
                <li>As peças do jogador aparecem na parte inferior do tabuleiro.</li>
                <li>O mesmo tabuleiro é mostrado ao adversário rodado 180º.</li>
            </ul>
            <br>
            <h4>Estado das peças</h4>
            <p>Cada peça pode estar em três estados diferentes:</p>
            <ol>
                <li>Ainda não foi movida;</li>
                <li>Já foi movida, mas ainda não chegou à última fila;</li>
                <li>Já esteve na última fila (4ª).</li>
            </ol>
            <p>O estado pode ser representado, por exemplo, pela transparência da peça.</p>
            <br>
            <h3>Dado de Paus</h3>
            <p>Em vez de um dado tradicional, o Tâb utiliza <strong>4 paus com duas faces distintas</strong> — uma clara
                e plana (interior da madeira) e uma escura e arredondada (casca).</p>

            <ul>
                <li>Os paus são segurados juntos na mão e depois largados.</li>
                <li>Conta-se o número de paus com a face clara virada para cima.</li>
                <li>Esse número determina o valor do lançamento.</li>
            </ul>
            <br>
            <h4>Valores do dado de paus</h4>
            <table class="tabela-dado">
                <thead>
                    <tr>
                        <th>Soma</th>
                        <th>Valor</th>
                        <th>Nome</th>
                        <th>Repete</th>
                        <th>Probabilidade</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>0</td><td>6</td><td>Sitteh</td><td>Sim</td><td>≈ 6%</td></tr>
                    <tr><td>1</td><td>1</td><td>Tâb</td><td>Sim</td><td>≈ 25%</td></tr>
                    <tr><td>2</td><td>2</td><td>Itneyn</td><td>Não</td><td>≈ 38%</td></tr>
                    <tr><td>3</td><td>3</td><td>Teláteh</td><td>Não</td><td>≈ 25%</td></tr>
                    <tr><td>4</td><td>4</td><td>Arba'ah</td><td>Sim</td><td>≈ 6%</td></tr>
                </tbody>
            </table>

            <p><em>Nota:</em> Não existe valor 5. O jogador repete a jogada se o valor for <strong>1, 4 ou 6</strong>.
            </p>
            <br>
            <h3>Mover as Peças</h3>
            <p>Antes de mover, o jogador deve lançar o dado de paus. O valor obtido indica quantas casas a peça
                escolhida deve avançar. Existem regras específicas para o início, progressão e restrições do movimento.
            </p>
            <br>
            <h4>Início do movimento</h4>
            <ul>
                <li>A primeira vez que uma peça se move, tem de ser com o valor <strong>1 (Tâb)</strong>.</li>
                <li>Se o valor for 4 ou 6, o jogador repete a jogada.</li>
                <li>A casa de destino não pode conter outra peça do mesmo jogador.</li>
                <li>Normalmente, começam-se a mover as peças mais à direita.</li>
            </ul>
            <br>
            <h4>Progressão das peças</h4>
            <ul>
                <li>As peças movem-se da <strong>esquerda para a direita</strong> na 1ª e 3ª filas.</li>
                <li>Da <strong>direita para a esquerda</strong> na 2ª e 4ª filas.</li>
                <li>Ao sair da 1ª fila → passam para a 2ª.</li>
                <li>Da 2ª → passam para a 3ª.</li>
                <li>Da 3ª → podem ir para a 4ª ou voltar à 2ª.</li>
                <li>Da 4ª → voltam à 3ª.</li>
            </ul>
            <br>
            <h4>Restrições</h4>
            <ul>
                <li>Só pode haver <strong>uma peça por casa</strong>.</li>
                <li>Uma peça só pode entrar <strong>uma vez na última fila</strong>.</li>
                <li>As peças nunca podem regressar à fila inicial.</li>
            </ul>
            <br>
            <h4>Passar a vez</h4>
            <p>Se o valor do dado não permitir nenhuma jogada válida e também não permitir novo lançamento, o jogador
                deve passar a vez.
                No entanto, <strong>não pode passar</strong> se existir uma jogada possível ou uma nova oportunidade de
                lançar o dado.</p>
            <br>
            <h3>Capturar Peças</h3>
            <p>Se uma peça cair numa casa ocupada por uma peça adversária, <strong>essa peça é capturada</strong> e
                removida do tabuleiro.</p>
            <br>
            <h3>Fim do Jogo</h3>
            <p>O jogo termina quando um dos jogadores <strong>ficar sem peças</strong> ou quando houver <strong>desistência</strong>. 
            O <strong>vencedor</strong> é o jogador que no final do jogo tiver <strong>mais pontos</strong>. Sendo a pontuação dada da seguinte forma: <strong>+1 ponto</strong> se capturar peça adversária; <strong>+2 pontos</strong> se chegar com a sua peça chegar à última fila.
            Em caso de desistência, a vitória é logo atribuída ao adversário.</p>

            <button class="btnFechar">Fechar</button>
        </section>

        <!-- CLASSIFICAÇÕES -->
        <section id="classificacoes" class="painel oculto">
            <h2>Classificações</h2>
            <p>Histórico de Jogos</p>

            <table id="tabelaClassificacoes">
                <thead>
                    <tr>
                        <th>Jogo</th>
                        <th>Data</th>
                        <th>Nível IA</th>
                        <th>Resultado</th>
                        <th>Vencedor</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <!-- Botões -->
            <div style="display:flex; justify-content:space-between; margin-top:1rem;">
                <button id="btnApagarHistorico" class= "btnFechar" style="background:#b22222;"> Apagar Histórico </button>
                <button class="btnFechar">Fechar</button>
            </div>
        </section>
    </main>

    <!-- RODAPÉ -->
    <footer>
        <p>Projeto 1 - Tecnologias Web (2025/26)</p>
        <p>Autores: Adriana Oliveira, Beatriz Moreira, Daniela Leitão</p>
    </footer>
    
    <!-- POP-UP FINAL DE JOGO -->
    <div id="popupFimJogo" class="popup-oculto">
      <div class="popup-conteudo">
        <h2 id="popupTitulo">🏁 Fim do Jogo</h2>
        <p id="popupPontuacao"></p>
        <button id="btnVoltarInicio">Voltar à página inicial</button>
      </div>
    </div>
</body>

</html>
